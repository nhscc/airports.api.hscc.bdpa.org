"use strict";

var _bundleAnalyzer = _interopRequireDefault(require("@next/bundle-analyzer"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

require('./src/dev-utils').populateEnv();

module.exports = () => {
  return (0, _bundleAnalyzer.default)({
    enabled: process.env.ANALYZE === 'true'
  })({
    distDir: 'build',
    webpack: config => {
      config.resolve && (config.resolve.alias = { ...config.resolve.alias,
        universe: `${__dirname}/src/`,
        multiverse: `${__dirname}/lib/`
      });
      return config;
    },
    env: {
      FLIGHTS_GENERATE_DAYS: process.env.FLIGHTS_GENERATE_DAYS,
      AIRPORT_NUM_OF_GATE_LETTERS: process.env.AIRPORT_NUM_OF_GATE_LETTERS,
      AIRPORT_GATE_NUMBERS_PER_LETTER: process.env.AIRPORT_GATE_NUMBERS_PER_LETTER,
      RESULTS_PER_PAGE: process.env.RESULTS_PER_PAGE,
      IGNORE_RATE_LIMITS: process.env.IGNORE_RATE_LIMITS,
      LOCKOUT_ALL_KEYS: process.env.LOCKOUT_ALL_KEYS,
      DISALLOWED_METHODS: process.env.DISALLOWED_METHODS,
      REQUESTS_PER_CONTRIVED_ERROR: process.env.REQUESTS_PER_CONTRIVED_ERROR,
      MAX_CONTENT_LENGTH_BYTES: process.env.MAX_CONTENT_LENGTH_BYTES
    },

    async rewrites() {
      return [{
        source: '/v1/flights/all',
        destination: '/api/v1/flights/all'
      }, {
        source: '/v1/flights/search',
        destination: '/api/v1/flights/search'
      }, {
        source: '/v1/flights/with-ids',
        destination: '/api/v1/flights/with-ids'
      }, {
        source: '/v1/info/airlines',
        destination: '/api/v1/info/airlines'
      }, {
        source: '/v1/info/airports',
        destination: '/api/v1/info/airports'
      }, {
        source: '/v1/info/no-fly-list',
        destination: '/api/v1/info/no-fly-list'
      }, {
        source: '/v2/flights',
        destination: '/api/v2/flights'
      }, {
        source: '/v2/info/airlines',
        destination: '/api/v2/info/airlines'
      }, {
        source: '/v2/info/airports',
        destination: '/api/v2/info/airports'
      }, {
        source: '/v2/info/all-extras',
        destination: '/api/v2/info/all-extras'
      }, {
        source: '/v2/info/no-fly-list',
        destination: '/api/v2/info/no-fly-list'
      }, {
        source: '/v2/info/seat-classes',
        destination: '/api/v2/info/seat-classes'
      }];
    }

  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy9uZXh0LmNvbmZpZy50cyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwicG9wdWxhdGVFbnYiLCJtb2R1bGUiLCJleHBvcnRzIiwiZW5hYmxlZCIsInByb2Nlc3MiLCJlbnYiLCJBTkFMWVpFIiwiZGlzdERpciIsIndlYnBhY2siLCJjb25maWciLCJyZXNvbHZlIiwiYWxpYXMiLCJ1bml2ZXJzZSIsIl9fZGlybmFtZSIsIm11bHRpdmVyc2UiLCJGTElHSFRTX0dFTkVSQVRFX0RBWVMiLCJBSVJQT1JUX05VTV9PRl9HQVRFX0xFVFRFUlMiLCJBSVJQT1JUX0dBVEVfTlVNQkVSU19QRVJfTEVUVEVSIiwiUkVTVUxUU19QRVJfUEFHRSIsIklHTk9SRV9SQVRFX0xJTUlUUyIsIkxPQ0tPVVRfQUxMX0tFWVMiLCJESVNBTExPV0VEX01FVEhPRFMiLCJSRVFVRVNUU19QRVJfQ09OVFJJVkVEX0VSUk9SIiwiTUFYX0NPTlRFTlRfTEVOR1RIX0JZVEVTIiwicmV3cml0ZXMiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQU9BQSxPQUFPLENBQUMsaUJBQUQsQ0FBUCxDQUEyQkMsV0FBM0I7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixNQUFNO0FBQ25CLFNBQU8sNkJBQW1CO0FBQ3RCQyxJQUFBQSxPQUFPLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUFaLEtBQXdCO0FBRFgsR0FBbkIsRUFFSjtBQUVDQyxJQUFBQSxPQUFPLEVBQUUsT0FGVjtBQU9DQyxJQUFBQSxPQUFPLEVBQUdDLE1BQUQsSUFBMkI7QUFJaENBLE1BQUFBLE1BQU0sQ0FBQ0MsT0FBUCxLQUFtQkQsTUFBTSxDQUFDQyxPQUFQLENBQWVDLEtBQWYsR0FBdUIsRUFDdEMsR0FBR0YsTUFBTSxDQUFDQyxPQUFQLENBQWVDLEtBRG9CO0FBRXRDQyxRQUFBQSxRQUFRLEVBQUcsR0FBRUMsU0FBVSxPQUZlO0FBR3RDQyxRQUFBQSxVQUFVLEVBQUcsR0FBRUQsU0FBVTtBQUhhLE9BQTFDO0FBT0EsYUFBT0osTUFBUDtBQUNILEtBbkJGO0FBd0JDSixJQUFBQSxHQUFHLEVBQUU7QUFDRFUsTUFBQUEscUJBQXFCLEVBQUVYLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVSxxQkFEbEM7QUFFREMsTUFBQUEsMkJBQTJCLEVBQUVaLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVywyQkFGeEM7QUFHREMsTUFBQUEsK0JBQStCLEVBQUViLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWSwrQkFINUM7QUFJREMsTUFBQUEsZ0JBQWdCLEVBQUVkLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYSxnQkFKN0I7QUFLREMsTUFBQUEsa0JBQWtCLEVBQUVmLE9BQU8sQ0FBQ0MsR0FBUixDQUFZYyxrQkFML0I7QUFNREMsTUFBQUEsZ0JBQWdCLEVBQUVoQixPQUFPLENBQUNDLEdBQVIsQ0FBWWUsZ0JBTjdCO0FBT0RDLE1BQUFBLGtCQUFrQixFQUFFakIsT0FBTyxDQUFDQyxHQUFSLENBQVlnQixrQkFQL0I7QUFRREMsTUFBQUEsNEJBQTRCLEVBQUVsQixPQUFPLENBQUNDLEdBQVIsQ0FBWWlCLDRCQVJ6QztBQVNEQyxNQUFBQSx3QkFBd0IsRUFBRW5CLE9BQU8sQ0FBQ0MsR0FBUixDQUFZa0I7QUFUckMsS0F4Qk47O0FBb0NDLFVBQU1DLFFBQU4sR0FBaUI7QUFDYixhQUFPLENBQ0g7QUFDSUMsUUFBQUEsTUFBTSxFQUFFLGlCQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQURHLEVBS0g7QUFDSUQsUUFBQUEsTUFBTSxFQUFFLG9CQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQUxHLEVBU0g7QUFDSUQsUUFBQUEsTUFBTSxFQUFFLHNCQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQVRHLEVBYUg7QUFDSUQsUUFBQUEsTUFBTSxFQUFFLG1CQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQWJHLEVBaUJIO0FBQ0lELFFBQUFBLE1BQU0sRUFBRSxtQkFEWjtBQUVJQyxRQUFBQSxXQUFXLEVBQUU7QUFGakIsT0FqQkcsRUFxQkg7QUFDSUQsUUFBQUEsTUFBTSxFQUFFLHNCQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQXJCRyxFQXlCSDtBQUNJRCxRQUFBQSxNQUFNLEVBQUUsYUFEWjtBQUVJQyxRQUFBQSxXQUFXLEVBQUU7QUFGakIsT0F6QkcsRUE2Qkg7QUFDSUQsUUFBQUEsTUFBTSxFQUFFLG1CQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQTdCRyxFQWlDSDtBQUNJRCxRQUFBQSxNQUFNLEVBQUUsbUJBRFo7QUFFSUMsUUFBQUEsV0FBVyxFQUFFO0FBRmpCLE9BakNHLEVBcUNIO0FBQ0lELFFBQUFBLE1BQU0sRUFBRSxxQkFEWjtBQUVJQyxRQUFBQSxXQUFXLEVBQUU7QUFGakIsT0FyQ0csRUF5Q0g7QUFDSUQsUUFBQUEsTUFBTSxFQUFFLHNCQURaO0FBRUlDLFFBQUFBLFdBQVcsRUFBRTtBQUZqQixPQXpDRyxFQTZDSDtBQUNJRCxRQUFBQSxNQUFNLEVBQUUsdUJBRFo7QUFFSUMsUUFBQUEsV0FBVyxFQUFFO0FBRmpCLE9BN0NHLENBQVA7QUFrREg7O0FBdkZGLEdBRkksQ0FBUDtBQTJGSCxDQTVGRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3aXRoQnVuZGxlQW5hbHl6ZXIgZnJvbSAnQG5leHQvYnVuZGxlLWFuYWx5emVyJ1xuXG5pbXBvcnQgdHlwZSB7IENvbmZpZ3VyYXRpb24gfSBmcm9tICd3ZWJwYWNrJ1xuXG4vLyA/IE5vdCB1c2luZyBFUzYvVFMgaW1wb3J0IHN5bnRheCBoZXJlIGJlY2F1c2UgZGV2LXV0aWxzIGhhcyBzcGVjaWFsXG4vLyA/IGNpcmN1bXN0YW5jZXNcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlc1xucmVxdWlyZSgnLi9zcmMvZGV2LXV0aWxzJykucG9wdWxhdGVFbnYoKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHdpdGhCdW5kbGVBbmFseXplcih7XG4gICAgICAgIGVuYWJsZWQ6IHByb2Nlc3MuZW52LkFOQUxZWkUgPT09ICd0cnVlJ1xuICAgIH0pKHtcbiAgICAgICAgLy8gPyBSZW5hbWVzIHRoZSBidWlsZCBkaXIgXCJidWlsZFwiIGluc3RlYWQgb2YgXCIubmV4dFwiXG4gICAgICAgIGRpc3REaXI6ICdidWlsZCcsXG5cbiAgICAgICAgLy8gPyBXZWJwYWNrIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgLy8gISBOb3RlIHRoYXQgdGhlIHdlYnBhY2sgY29uZmlndXJhdGlvbiBpcyBleGVjdXRlZCB0d2ljZTogb25jZVxuICAgICAgICAvLyAhIHNlcnZlci1zaWRlIGFuZCBvbmNlIGNsaWVudC1zaWRlIVxuICAgICAgICB3ZWJwYWNrOiAoY29uZmlnOiBDb25maWd1cmF0aW9uKSA9PiB7XG4gICAgICAgICAgICAvLyA/IFRoZXNlIGFyZSBhbGlhc2VzIHRoYXQgY2FuIGJlIHVzZWQgZHVyaW5nIEpTIGltcG9ydCBjYWxsc1xuICAgICAgICAgICAgLy8gISBOb3RlIHRoYXQgeW91IG11c3QgYWxzbyBjaGFuZ2UgdGhlc2Ugc2FtZSBhbGlhc2VzIGluIHRzY29uZmlnLmpzb25cbiAgICAgICAgICAgIC8vICEgTm90ZSB0aGF0IHlvdSBtdXN0IGFsc28gY2hhbmdlIHRoZXNlIHNhbWUgYWxpYXNlcyBpbiBwYWNrYWdlLmpzb24gKGplc3QpXG4gICAgICAgICAgICBjb25maWcucmVzb2x2ZSAmJiAoY29uZmlnLnJlc29sdmUuYWxpYXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uY29uZmlnLnJlc29sdmUuYWxpYXMsXG4gICAgICAgICAgICAgICAgdW5pdmVyc2U6IGAke19fZGlybmFtZX0vc3JjL2AsXG4gICAgICAgICAgICAgICAgbXVsdGl2ZXJzZTogYCR7X19kaXJuYW1lfS9saWIvYCxcbiAgICAgICAgICAgICAgICAvLyB0eXBlcy8gaXMgcHVycG9zZWx5IGV4Y2x1ZGVkXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfSxcblxuICAgICAgICAvLyA/IFNlbGVjdCBzb21lIGVudmlyb25tZW50IHZhcmlhYmxlcyBkZWZpbmVkIGluIC5lbnYgdG8gcHVzaCB0byB0aGVcbiAgICAgICAgLy8gPyBjbGllbnQuXG4gICAgICAgIC8vICEhIERPIE5PVCBQVVQgQU5ZIFNFQ1JFVCBFTlZJUk9OTUVOVCBWQVJJQUJMRVMgSEVSRSAhIVxuICAgICAgICBlbnY6IHtcbiAgICAgICAgICAgIEZMSUdIVFNfR0VORVJBVEVfREFZUzogcHJvY2Vzcy5lbnYuRkxJR0hUU19HRU5FUkFURV9EQVlTLFxuICAgICAgICAgICAgQUlSUE9SVF9OVU1fT0ZfR0FURV9MRVRURVJTOiBwcm9jZXNzLmVudi5BSVJQT1JUX05VTV9PRl9HQVRFX0xFVFRFUlMsXG4gICAgICAgICAgICBBSVJQT1JUX0dBVEVfTlVNQkVSU19QRVJfTEVUVEVSOiBwcm9jZXNzLmVudi5BSVJQT1JUX0dBVEVfTlVNQkVSU19QRVJfTEVUVEVSLFxuICAgICAgICAgICAgUkVTVUxUU19QRVJfUEFHRTogcHJvY2Vzcy5lbnYuUkVTVUxUU19QRVJfUEFHRSxcbiAgICAgICAgICAgIElHTk9SRV9SQVRFX0xJTUlUUzogcHJvY2Vzcy5lbnYuSUdOT1JFX1JBVEVfTElNSVRTLFxuICAgICAgICAgICAgTE9DS09VVF9BTExfS0VZUzogcHJvY2Vzcy5lbnYuTE9DS09VVF9BTExfS0VZUyxcbiAgICAgICAgICAgIERJU0FMTE9XRURfTUVUSE9EUzogcHJvY2Vzcy5lbnYuRElTQUxMT1dFRF9NRVRIT0RTLFxuICAgICAgICAgICAgUkVRVUVTVFNfUEVSX0NPTlRSSVZFRF9FUlJPUjogcHJvY2Vzcy5lbnYuUkVRVUVTVFNfUEVSX0NPTlRSSVZFRF9FUlJPUixcbiAgICAgICAgICAgIE1BWF9DT05URU5UX0xFTkdUSF9CWVRFUzogcHJvY2Vzcy5lbnYuTUFYX0NPTlRFTlRfTEVOR1RIX0JZVEVTLFxuICAgICAgICB9LFxuXG4gICAgICAgIGFzeW5jIHJld3JpdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJy92MS9mbGlnaHRzL2FsbCcsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92MS9mbGlnaHRzL2FsbCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnL3YxL2ZsaWdodHMvc2VhcmNoJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246ICcvYXBpL3YxL2ZsaWdodHMvc2VhcmNoJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjEvZmxpZ2h0cy93aXRoLWlkcycsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92MS9mbGlnaHRzL3dpdGgtaWRzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjEvaW5mby9haXJsaW5lcycsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92MS9pbmZvL2FpcmxpbmVzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjEvaW5mby9haXJwb3J0cycsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92MS9pbmZvL2FpcnBvcnRzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjEvaW5mby9uby1mbHktbGlzdCcsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92MS9pbmZvL25vLWZseS1saXN0J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjIvZmxpZ2h0cycsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92Mi9mbGlnaHRzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjIvaW5mby9haXJsaW5lcycsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92Mi9pbmZvL2FpcmxpbmVzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjIvaW5mby9haXJwb3J0cycsXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL2FwaS92Mi9pbmZvL2FpcnBvcnRzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICcvdjIvaW5mby9hbGwtZXh0cmFzJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246ICcvYXBpL3YyL2luZm8vYWxsLWV4dHJhcydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnL3YyL2luZm8vbm8tZmx5LWxpc3QnLFxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogJy9hcGkvdjIvaW5mby9uby1mbHktbGlzdCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnL3YyL2luZm8vc2VhdC1jbGFzc2VzJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246ICcvYXBpL3YyL2luZm8vc2VhdC1jbGFzc2VzJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuIl19